<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="styles.css" />
</head>
<body>
    <div class="box">
        <div class="title01">
            <h3>To Do</h3>
        </div>
        <div class="main">
            <input type="text" id="todo" placeholder="Please enter what you want to do!">
            <button id="in" onclick="appendDiv()"> In </button>
            <ul class="list">
        
            </ul>
        </div>
    </div>

    <script>
        function toggleBtn(button) {
            // 'this'는 클릭된 버튼을 참조합니다.
            const li = button.closest('li'); // 버튼이 속한 li 요소를 찾습니다.
            li.style.display = 'none'; // 해당 li 요소를 숨깁니다.
        }

        function appendDiv() {
            const infor = document.getElementById('todo').value;  // 'todo' input의 값을 가져옴

            const element = document.querySelector('.list');  // 'list' 클래스를 가진 요소를 선택

            const li = document.createElement("li");
            li.setAttribute('class', 'ck-item');  // 클래스 이름은 문자열로

            const checkbox = document.createElement('input');
            checkbox.type = 'checkbox'; // 체크박스를 생성
            li.setAttribute('class', 'ck01');

            const textNode = document.createElement("span");
            textNode.textContent = infor; // 'infor' 값을 텍스트로 추가

            const removeButton = document.createElement("button");
            removeButton.classList.add('ck');
            removeButton.textContent = "⨉";

            removeButton.onclick = function() {
                li.style.display = 'none';  // 해당 li 요소를 숨깁니다.
            };

            // 체크박스를 클릭했을 때 텍스트에 줄을 그어주는 이벤트 리스너 추가
            checkbox.onclick = function() {
                if (checkbox.checked) {
                    textNode.style.textDecorationLine = "line-through";  // 체크되면 줄을 긋기
                } else {
                    textNode.style.textDecorationLine = "";  // 체크 해제되면 줄 제거
                }
            };

            li.appendChild(checkbox); // 체크박스를 li에 추가
            li.appendChild(textNode);  // 텍스트를 li에 추가
            li.appendChild(removeButton);  // 삭제 버튼을 li에 추가

            element.appendChild(li);  // 'list' 요소에 li를 추가

            // 입력란을 초기화
            document.getElementById('todo').value = ''; 
        }
    </script>
</body>
</html>
